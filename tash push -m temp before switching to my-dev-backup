[1mdiff --git a/deps/googletest b/deps/googletest[m
[1mindex 2dd1c13..6ec14df 160000[m
[1m--- a/deps/googletest[m
[1m+++ b/deps/googletest[m
[36m@@ -1 +1 @@[m
[31m-Subproject commit 2dd1c131950043a8ad5ab0d2dda0e0970596586a[m
[32m+[m[32mSubproject commit 6ec14dfd8c409d05fba94e18e3a02df35b874353[m
[1mdiff --git a/src/storage/buffer_pool_manager.h b/src/storage/buffer_pool_manager.h[m
[1mindex 0a5c152..3b309cd 100644[m
[1m--- a/src/storage/buffer_pool_manager.h[m
[1m+++ b/src/storage/buffer_pool_manager.h[m
[36m@@ -1,73 +1,73 @@[m
[31m-#pragma once[m
[31m-#include <fcntl.h>[m
[31m-#include <unistd.h>[m
[31m-[m
[31m-#include <cassert>[m
[31m-#include <list>[m
[31m-#include <unordered_map>[m
[31m-#include <vector>[m
[31m-[m
[31m-#include "disk_manager.h"[m
[31m-#include "errors.h"[m
[31m-#include "page.h"[m
[31m-#include "replacer/lru_replacer.h"[m
[31m-#include "replacer/replacer.h"[m
[31m-[m
[31m-class BufferPoolManager {[m
[31m-   private:[m
[31m-    size_t pool_size_;      // buffer_poolä¸­å¯å®¹çº³é¡µé¢çš„ä¸ªæ•°ï¼Œå³å¸§çš„ä¸ªæ•°[m
[31m-    Page *pages_;           // buffer_poolä¸­çš„Pageå¯¹è±¡æ•°ç»„ï¼Œåœ¨æ„é€ ç©ºé—´ä¸­ç”³è¯·å†…å­˜ç©ºé—´ï¼Œåœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾ï¼Œå¤§å°ä¸ºBUFFER_POOL_SIZE[m
[31m-    std::unordered_map<PageId, frame_id_t, PageIdHash> page_table_; // å¸§å·å’Œé¡µé¢å·çš„æ˜ å°„å“ˆå¸Œè¡¨ï¼Œç”¨äºæ ¹æ®é¡µé¢çš„PageIdå®šä½è¯¥é¡µé¢çš„å¸§ç¼–å·[m
[31m-    std::list<frame_id_t> free_list_;   // ç©ºé—²å¸§ç¼–å·çš„é“¾è¡¨[m
[31m-    DiskManager *disk_manager_;[m
[31m-    Replacer *replacer_;    // buffer_poolçš„ç½®æ¢ç­–ç•¥ï¼Œå½“å‰èµ›é¢˜ä¸­ä¸ºLRUç½®æ¢ç­–ç•¥[m
[31m-    std::mutex latch_;      // ç”¨äºå…±äº«æ•°æ®ç»“æ„çš„å¹¶å‘æ§åˆ¶[m
[31m-[m
[31m-   public:[m
[31m-    BufferPoolManager(size_t pool_size, DiskManager *disk_manager)[m
[31m-        : pool_size_(pool_size), disk_manager_(disk_manager) {[m
[31m-        // ä¸ºbuffer poolåˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´[m
[31m-        pages_ = new Page[pool_size_];[m
[31m-        // å¯ä»¥è¢«Replaceræ”¹å˜[m
[31m-        if (REPLACER_TYPE.compare("LRU"))[m
[31m-            replacer_ = new LRUReplacer(pool_size_);[m
[31m-        else if (REPLACER_TYPE.compare("CLOCK"))[m
[31m-            replacer_ = new LRUReplacer(pool_size_);[m
[31m-        else {[m
[31m-            replacer_ = new LRUReplacer(pool_size_);[m
[31m-        }[m
[31m-        // åˆå§‹åŒ–æ—¶ï¼Œæ‰€æœ‰çš„pageéƒ½åœ¨free_list_ä¸­[m
[31m-        for (size_t i = 0; i < pool_size_; ++i) {[m
[31m-            free_list_.emplace_back(static_cast<frame_id_t>(i));  // static_castè½¬æ¢æ•°æ®ç±»å‹[m
[31m-        }[m
[31m-    }[m
[31m-[m
[31m-    ~BufferPoolManager() {[m
[31m-        delete[] pages_;[m
[31m-        delete replacer_;[m
[31m-    }[m
[31m-[m
[31m-    /**[m
[31m-     * @description: å°†ç›®æ ‡é¡µé¢æ ‡è®°ä¸ºè„é¡µ[m
[31m-     * @param {Page*} page è„é¡µ[m
[31m-     */[m
[31m-    static void mark_dirty(Page* page) { page->is_dirty_ = true; }[m
[31m-[m
[31m-   public: [m
[31m-    Page* fetch_page(PageId page_id);[m
[31m-[m
[31m-    bool unpin_page(PageId page_id, bool is_dirty);[m
[31m-[m
[31m-    bool flush_page(PageId page_id);[m
[31m-[m
[31m-    Page* new_page(PageId* page_id);[m
[31m-[m
[31m-    bool delete_page(PageId page_id);[m
[31m-[m
[31m-    void flush_all_pages(int fd);[m
[31m-[m
[31m-   private:[m
[31m-    bool find_victim_page(frame_id_t* frame_id);[m
[31m-[m
[31m-    void update_page(Page* page, PageId new_page_id, frame_id_t new_frame_id);[m
[32m+[m[32m#pragma once[m[41m[m
[32m+[m[32m#include <fcntl.h>[m[41m[m
[32m+[m[32m#include <unistd.h>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m#include <cassert>[m[41m[m
[32m+[m[32m#include <list>[m[41m[m
[32m+[m[32m#include <unordered_map>[m[41m[m
[32m+[m[32m#include <vector>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m#include "disk_manager.h"[m[41m[m
[32m+[m[32m#include "errors.h"[m[41m[m
[32m+[m[32m#include "page.h"[m[4